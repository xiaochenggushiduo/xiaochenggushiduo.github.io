<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据分析小细节 | 🤔</title>
    <meta name="description" content="用以致学">
    <link rel="icon" href="/logo2.png">
    
    <link rel="preload" href="/assets/css/0.styles.6297f5e0.css" as="style"><link rel="preload" href="/assets/js/app.b74a338b.js" as="script"><link rel="preload" href="/assets/js/14.52e6be6c.js" as="script"><link rel="prefetch" href="/assets/js/10.120375b3.js"><link rel="prefetch" href="/assets/js/11.b8821cbd.js"><link rel="prefetch" href="/assets/js/12.f76ea299.js"><link rel="prefetch" href="/assets/js/13.2c32402f.js"><link rel="prefetch" href="/assets/js/15.b6af3c66.js"><link rel="prefetch" href="/assets/js/2.605ea5ed.js"><link rel="prefetch" href="/assets/js/3.ec6615b3.js"><link rel="prefetch" href="/assets/js/4.c9993dc3.js"><link rel="prefetch" href="/assets/js/5.6df627ac.js"><link rel="prefetch" href="/assets/js/6.1e25e40e.js"><link rel="prefetch" href="/assets/js/7.822d9c04.js"><link rel="prefetch" href="/assets/js/8.ac3b254b.js"><link rel="prefetch" href="/assets/js/9.cae94da3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6297f5e0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">🤔</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/post/" class="nav-link">上网导航</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/machinelearn/" class="nav-link">机器学习</a></li><li class="dropdown-item"><!----> <a href="/deeplearn/" class="nav-link">深度学习</a></li><li class="dropdown-item"><!----> <a href="/statistics/" class="nav-link router-link-active">统计方法</a></li></ul></div></div><div class="nav-item"><a href="/fiction/" class="nav-link">小说</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/post/" class="nav-link">上网导航</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/machinelearn/" class="nav-link">机器学习</a></li><li class="dropdown-item"><!----> <a href="/deeplearn/" class="nav-link">深度学习</a></li><li class="dropdown-item"><!----> <a href="/statistics/" class="nav-link router-link-active">统计方法</a></li></ul></div></div><div class="nav-item"><a href="/fiction/" class="nav-link">小说</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>数据分析小细节</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/statistics/statistics.html#操作步骤" class="sidebar-link">操作步骤</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/statistics/statistics.html#数据处理" class="sidebar-link">数据处理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/statistics/statistics.html#" class="sidebar-link">/statistics/statistics.html#</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/statistics/statistics.html#为什么协整检验？" class="sidebar-link">为什么协整检验？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/statistics/statistics.html#t值多少合适？" class="sidebar-link">t值多少合适？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/statistics/statistics.html#_1-单位根检验" class="sidebar-link">1.单位根检验</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="数据分析小细节">数据分析小细节</h1> <h2 id="操作步骤">操作步骤</h2> <ol><li>建立指标体系</li> <li>数据采集</li> <li>数据整理</li> <li>方法选取</li> <li>敲代码</li></ol> <h2 id="数据处理">数据处理</h2> <p>对数据进行对数处理，防止异方差发生</p> <p><strong>回归变量过多怎么办？</strong></p> <div class="language- extra-class"><pre class="language-text"><code>lm(y~.,data=mydata)
</code></pre></div><p>主义单位统一</p> <h1 id="协整检验">协整检验</h1> <h2 id></h2> <h2 id="为什么协整检验？">为什么协整检验？</h2> <p>协整检验的目的是决定一组非平稳序列的线性组合是否具有稳定的均衡关系，伪回归的一种特殊情况即是两个时间序列的趋势成分相同，此时可能利用这种共同趋势修正回归使之可靠。</p> <p>正是由于协整传递出了一种长期均衡关系，若是能在看来具有单独随机性趋势的几个变数之间找到一种可靠联系，那么通过引入这种“相对平稳”对模型进行调整，可以排除单位根带来的随机性趋势，即所称的误差修正模型。</p> <p>在进行时间系列分析时，传统上要求所用的时间系列必须是平稳的，即没有随机趋势或确定趋势，否则会产生“伪回归”问题。</p> <p>但是，在现实经济中的时间系列通常是非平稳的，我们可以对它进行差分把它变平稳，但这样会让我们失去总量的长期信息，而这些信息对分析问题来说又是必要的，所以用协整来解决此问题。</p> <h2 id="t值多少合适？">t值多少合适？</h2> <p>t值是用来(结合自由度)计算对应的显著性P值的。t越大，对应的p值越小。一般只用看p值，就是图中显著性那一列。<strong>不用管只看p值</strong></p> <h2 id="_1-单位根检验">1.单位根检验</h2> <p>“协整”是计量经济学里面的明星。不了解计量经济学的人更容易被它所笼罩的计量经济学光环给吓到。然而，协整其实是个十分简单的概念，并不神秘，更非高不可攀。要了解“协整”，首先得提到一个名词——平稳。</p> <p>1.关于平稳</p> <p>金融领域有很多种时间序列。通常为了研究的方便，人们会对这些时间序列进行分类。比如按照时间序列时间间隔的长短可以简单的分为高频时间序列和非高频时间序列。那么，按照时间序列的平稳性，便可以将时间序列分为平稳的时间序列和非平稳的时间序列。</p> <p>平稳时间序列和非平稳时间的区别在于三个方面：</p> <p>① 时间序列（随机过程）的均值是否是常数?或者说时间序列（随机过程）的均值是不是跟时间无关？如果不是常数则该时间序列是非平稳的；如果是常数，则该时间序列可能是平稳的，但不肯定，须进入第二步。</p> <p>② 时间序列（随机过程）的方差是否是常数？或者说时间序列（随机过程）的方差是不是跟时间无关？如果不是常数则该时间序列是非平稳的；如果是常数，则该时间序列可能是平稳的，但不肯定，须进入第三步。</p> <p>③ 任意两个时期的时间序列之间的协方差是否仅仅依赖于两个时间序列的时间间隔。</p> <p>如果一个时间序列同时满足①②③，那么该时间序列就是平稳的。</p> <p>(注：由于均值、方差和协方差可以被统一的成为统计特性，因此也可以说，如果时间序列的统计特性不随着时间的推移而发生变化，则说明时间序列是平稳的。) 平稳时间序列还可以进一步细分。根据平稳时间序列进行差分的次数，可以将平稳时间序列分为不同阶的平稳时间序列。如果一个时间序列本身是平稳的，那么该时间序列可被记作I(0),括号里面的0表示该时间序列没有进行差分。如果一个时间序列一阶差分之后平稳，那么可被记作I(1),以此类推。</p> <p>2.平稳性的检验</p> <p>在应用过程中，时间序列的平稳性的判断要简单的多。常用的判断时间序列平稳性的方法有两个：图示法和单位根检验法。</p> <p>图示法，顾名思义，就是画出时间序列的时序图，来目测时间序列是否平稳。如果画出的时间序列不存在明显的趋势，那么时间序列可能是平稳的。这个方法比较随意和主观，因此，只能作为辅助判断的手段。</p> <p>单位根检验法是一个理论基础扎实的判断手段，单位根检验的方法非常多，一般常用的有DF检验(Dickey-Fuller Test)，ADF检验(Augmented Dickey-Fuller Test)和PP检验(Phillips-Perron Test)。这三个检验的理论基础在这里不讲,因为除却数理统计的专业人员，大部分人都不必深究这些理论，现实中只要懂得这些检验用软件的实现方法就可以了。</p> <p>下面以R为例：</p> <p>①生成两个时间序列：</p> <p>x=rnorm(500); #没有单位根</p> <p>y=cumsum(x); #有单位根</p> <p>②绘制时序图</p> <p>plot.ts(x);</p> <p>plot.ts(y);</p> <p>③ADF.test检验</p> <p>library(tseries)#载入tseries包</p> <p>adf.test(x)</p> <p>Augmented Dickey-Fuller Test</p> <p>data: x</p> <p>Dickey-Fuller = -8.6286, Lag order = 7, p-value = 0.01</p> <p>alternative hypothesis: stationary</p> <p>Warning message:</p> <p>In adf.test(x) : p-value smaller than printed p-value</p> <p>P值等于0.01，拒绝x是原假设（注：原假设为非平稳），即可以认为x是平稳的。</p> <p>adf.test(y)</p> <p>Augmented Dickey-Fuller Test</p> <p>data: y</p> <p>Dickey-Fuller = -2.6504, Lag order = 7, p-value = 0.303 alternative hypothesis: stationary</p> <p>P值等于0.303，因此y是非平稳的。</p> <p>#用urca包中的ur.df()函数来完成上述过程</p> <p>install.packages('urca')#安装urca包</p> <p>library(urca)#载入urca包</p> <p>?ur.df#查看ur.df()函数的帮助文档</p> <p>#用uroot包中的ADF.test()函数来完成上述过程</p> <p>install.packages('uroot')# library(uroot) #载入uroot包，没有安装的话，需要install.packages(uroot)</p> <p>?ADF.test#查看ADF.test()函数的帮助文档</p> <p>④PP检验</p> <p>library(tseries)</p> <p>pp.test(x)</p> <p>Phillips-Perron Unit Root Test</p> <p>data: x</p> <p>Dickey-Fuller Z(alpha) = -529.0583, Truncation lag parameter = 5,p-value = 0.01</p> <p>alternative hypothesis: stationary</p> <p>Warning message:</p> <p>In pp.test(x) : p-value smaller than printed p-value</p> <p>P值等于0.01，拒绝x为非平稳序列的假设。</p> <p>pp.test(y)</p> <p>Phillips-Perron Unit Root Test</p> <p>data: y Dickey-Fuller = -2.8806, Truncation lag parameter = 5, p-value =0.2056</p> <p>P值等于0.2056，不能拒绝x是非平稳序列的假设，即x非平稳。</p> <p>#也可以用stats包中的PP.test()函数来完成PP检验</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.b74a338b.js" defer></script><script src="/assets/js/14.52e6be6c.js" defer></script>
  </body>
</html>
